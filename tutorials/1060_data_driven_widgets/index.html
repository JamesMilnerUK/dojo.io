<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	

	<title>Data-driven widgets | Dojo</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="description" content="Data-driven widgetsOverviewThe Dojo 2 widget system provides a functional API that strives to strictly enforce a unidirectional data flow. The only way to interact with a widget is through the proper">
<meta property="og:type" content="website">
<meta property="og:title" content="Data-driven widgets">
<meta property="og:url" content="https://dojo.github.io/tutorials/1060_data_driven_widgets/index.html">
<meta property="og:site_name" content="Dojo">
<meta property="og:description" content="Data-driven widgetsOverviewThe Dojo 2 widget system provides a functional API that strives to strictly enforce a unidirectional data flow. The only way to interact with a widget is through the proper">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://dojo.github.io/tutorials/resources/list.png">
<meta property="og:updated_time" content="2018-01-27T20:53:19.747Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Data-driven widgets">
<meta name="twitter:description" content="Data-driven widgetsOverviewThe Dojo 2 widget system provides a functional API that strives to strictly enforce a unidirectional data flow. The only way to interact with a widget is through the proper">
<meta name="twitter:image" content="https://dojo.github.io/tutorials/resources/list.png">
<meta name="twitter:creator" content="@https:&#x2F;&#x2F;twitter.com&#x2F;dojo">
	
		<link rel="alternate" href="/atom.xml" title="Dojo" type="application/atom+xml">
	
	
		<link rel="icon" href="/images/favicons/favicon.ico">
	
	<link rel="stylesheet" href="/css/main.css">
	
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-3242977-15', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<link rel="stylesheet" href="/css/prism-ghcolors.css" type="text/css"></head>

	<body class="body-tutorial
">
		<div class="page-wrapper">
			<header class="header">
	<div class="container">
		<nav class="navbar">
			<div class="navbar-brand">
				<a href="/" class="navbar-item"><img src="/images/logos/dojo2-logo-white.svg" class="site-logo" alt="Dojo"></a>
				<div class="navbar-burger">
					<span></span>
					<span></span>
					<span></span>
				</div>
			</div>
			<div class="navbar-menu">
				<div class="navbar-start"></div>
				<div class="navbar-end">
					<a class="navbar-item" href="/docs/fundamentals/accessibility/index.html">Docs</a>
					<a class="navbar-item" href="/tutorials">Tutorials</a>
					<a class="navbar-item" href="/cookbook/modern-web-apps/efficient-state-management.html">Cookbook</a>
					<a class="navbar-item" href="/blog">Blog</a>
					<a class="navbar-item" href="https://github.com/dojo/meta"><span class="icon is-medium"><i class="fa fa-github" aria-hidden="true"></i></span></a>
				</div>
			</div>
		</nav>
	</div>
</header>

			<div class="content-wrapper">
				<div class="page-content">
					<div class="section">
	<div class="container article">	
		<nav class="breadcrumb is-small hidden" aria-label="breadcrumbs">
			<ul>
				<li><a href="/tutorials">Tutorials</a></li>
				<li><a href="#">Data-driven widgets</a></li>
				<li class="is-active"><a class="step-current"></a></li>
			</ul>
		</nav>
		<section class="tutorial hidden hiding">
<h1 id="Data-driven-widgets"><a href="#Data-driven-widgets" class="headerlink" title="Data-driven widgets"></a>Data-driven widgets</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>The Dojo 2 widget system provides a functional API that strives to strictly enforce a unidirectional data flow. The only way to interact with a widget is through the <code>properties</code> it exposes, and dealing directly with widget instances is both uncommon and considered an anti-pattern. It may initially be challenging to understand how to build data-driven widgets in such a reactive framework, especially when widgets in past frameworks such as Dojo 1 were so tightly coupled to data store implementations.</p>
<p>In this tutorial we will create a filterable data-driven list widget, demonstrating how Dojo 2 widgets should be decoupled from data providers.</p>
<h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><p>You can <a href="../assets/1060_data_driven_widgets-initial.zip">download</a> the demo project and run <code>npm install</code> to get started.</p>
<p>The <code>@dojo/cli</code> command line tool should be installed globally. Refer to the <a href="../000_local_installation/">Dojo 2 local installation</a> article for more information.</p>
<p>You also need to be familiar with TypeScript as Dojo 2 uses it extensively. For more information, refer to the <a href="../../docs/fundamentals/typescript_and_dojo_2/">TypeScript and Dojo 2</a> article.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Creating-a-filterable-List-widget"><a href="#Creating-a-filterable-List-widget" class="headerlink" title="Creating a filterable List widget"></a>Creating a filterable List widget</h2><div class="task">Create a widget that uses a Dojo 2 <code>TextInput</code>.</div>
<p>Before digging into the specifics of wiring a widget to a data source, a basic list widget with a filter input must first be created. Initially, the widget will simply render a Dojo 2 <code>TextInput</code> widget, with additional functionality to be added later within this tutorial. <code>List.ts</code> will contain our implementation, and similarly to widgets created during previous Dojo 2 tutorials, initial dependencies and a class declaration are needed to get started.</p>
<div class="instruction">Add the following skeleton to <code>List.ts</code>:</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WidgetBase <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/WidgetBase'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> v<span class="token punctuation">,</span> w <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/d'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> theme<span class="token punctuation">,</span> ThemedMixin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/mixins/Themed'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> css <span class="token keyword">from</span> <span class="token string">'../styles/list.m.css'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ListProperties</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> ListBase <span class="token operator">=</span> <span class="token function">ThemedMixin</span><span class="token punctuation">(</span>WidgetBase<span class="token punctuation">)</span><span class="token punctuation">;</span>

@<span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">ListBase</span><span class="token operator">&lt;</span>ListProperties<span class="token operator">></span> <span class="token punctuation">{</span>
	<span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
		<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>This code lays the base foundation for a themed Dojo 2 widget: it extends the <code>WidgetBase</code> class, it uses the <code>ThemedMixin</code>, and it defines a <code>render</code> method that returns a virtual DOM. The next step is to import a Dojo 2 <code>TextInput</code> and use it inside the <code>List</code>.</p>
<div class="instruction">Import <code>TextInput</code> into <code>List.ts</code>:</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> TextInput <span class="token keyword">from</span> <span class="token string">'@dojo/widgets/textinput/TextInput'</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Update the <code>ListProperties</code> interface so that a <code>value</code> and an <code>onInput</code> callback can be passed into the <code>List</code>:</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ListProperties</span> <span class="token punctuation">{</span>
	onInput<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
	value<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The next step in creating an initial filterable list widget is to update its <code>render</code> method to define a <code>TextInput</code> using the <code>w</code> module.</p>
<div class="instruction">Update the <code>List</code> to render a <code>TextInput</code> using the <code>value</code> and <code>onInput</code> properties.</div>
<p>Click the button below to view the solution.</p>
<div class="solution-container"><button class="toggle-solution" data-target="showsolution1">Toggle Solution</button><section id="showsolution1" class="hidden"><pre class="language-javascript"><code>
<span class="token keyword">protected</span> <span class="token function">onInput</span><span class="token punctuation">(</span><span class="token punctuation">{</span> target<span class="token punctuation">:</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">:</span> any<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">onInput</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
<span class="token function">        w</span><span class="token punctuation">(</span>TextInput<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            value<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
            onInput<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onInput<span class="token punctuation">,</span>
            placeholder<span class="token punctuation">:</span> <span class="token string">'Filter workers...'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></section></div>
<p>Before continuing with the <code>List</code> implementation, let’s review and verify the progress so far by adding the current widget to the Biz-E-Bodies application.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Adding-a-List-widget-to-the-application"><a href="#Adding-a-List-widget-to-the-application" class="headerlink" title="Adding a List widget to the application"></a>Adding a List widget to the application</h2><div class="task">Add the <code>List</code> widget to the application.</div>
<p>We will add the <code>List</code> widget to the existing <code>Banner</code> widget so users can filter a list of workers by name when first visiting the application. The end result should look something like this:</p>
<p class="center"><img src="/tutorials/resources/list.png" alt="list_widget"></p>

<div class="instruction">Import the <code>List</code> and the <code>w</code> module into <code>Banner.ts</code>:</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> v<span class="token punctuation">,</span> w <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/d'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'./List'</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Update <code>Banner</code> to render an array of virtual DOM nodes including the existing <code>&lt;h1&gt;</code> element as well as a <code>List</code> widget.</div>
<div class="solution-container"><button class="toggle-solution" data-target="showsolution2">Toggle Solution</button><section id="showsolution2" class="hidden"><pre class="language-javascript"><code>
<span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
<span class="token function">        v</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'I am a title!'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Welcome To Biz-E-Bodies'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">        v</span><span class="token punctuation">(</span><span class="token string">'label'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'Find a worker:'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">        w</span><span class="token punctuation">(</span>List<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            onInput<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            value<span class="token punctuation">:</span> <span class="token string">''</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></section></div>
<div class="instruction">Run the application with <code>dojo build -m dev -w memory -s</code> and navigate to <a href="http://localhost:9999" target="_blank" rel="noopener"><code>http://localhost:9999</code></a>.</div>
<p>A solid foundation for a filterable list widget using a Dojo 2 <code>TextInput</code> widget has been created and added to the existing <code>Banner</code>. Thus far, the widget is not connected to an external data source.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Connecting-the-List-to-data"><a href="#Connecting-the-List-to-data" class="headerlink" title="Connecting the List to data"></a>Connecting the List to data</h2><div class="task">Connect the <code>List</code> to data using its <code>properties</code>.</div>
<p>Traditional widget frameworks like Dojo 1 required developers to tightly couple widget instances to data store instances. For example, it was common for Dojo 1 widget code to expect a <code>store</code> property to exist on a widget instance, and to further expect that store to expose a Dojo-specific data store API. While effective, this method of explicitly connecting widgets to data stores is brittle and forces widgets to call specific methods on stores.</p>
<p>Data-driven widgets in Dojo 2 do not call methods on a store directly (and are not connected directly to a data store at all). Instead widgets request data from their parent widget using callback properties, and the parent passes properties containing relevant data down to its children. The parent can in turn request data from <em>its</em> parent in the same manner, or it can fetch data directly, such as by dispatching an action to an app store like Redux or making an XHR request directly. <strong>Dojo 2 widgets can use this parent-driven data approach to enable compatibility with virtually any data provider by strictly decoupling widgets from the stores that power them.</strong></p>
<p>The first step to connecting the <code>List</code> to worker data is to update its <code>properties</code> interface so it can accept a <code>data</code> array.</p>
<div class="instruction">Update the <code>ListProperties</code> to support passing a <code>data</code> array property into the <code>List</code>:</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WorkerProperties <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./Worker'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ListProperties</span> <span class="token punctuation">{</span>
	data<span class="token operator">?</span><span class="token punctuation">:</span> WorkerProperties<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	onInput<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
	value<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<article class="aside"><strong>Playing it safe</strong><p>The <code>WorkerProperties</code> interface is imported from the <code>Worker</code> widget so that the TypeScript typings for the <code>data</code> array can be as strict as possible.</p></article>
<p>The <code>ListProperties</code> interface now defines an optional <code>data</code> property that can be passed into a <code>List</code> widget. This property could have been called by any name other than <code>data</code>; the important takeaway is that data items can now be passed into the <code>List</code> widget using <code>properties</code>. The next step is to update the <code>List</code> to render a list of items based on its new <code>data</code> property.</p>
<div class="instruction">Update the <code>List</code> so it also renders a <code>&lt;div&gt;</code> for each item in its <code>data</code> array property.</div>
<div class="solution-container"><button class="toggle-solution" data-target="showsolution3">Toggle Solution</button><section id="showsolution3" class="hidden"><pre class="language-javascript"><code>
<span class="token keyword">protected</span> <span class="token function">renderItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">;</span>
    <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">:</span> any<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>firstName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>lastName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
<span class="token function">        w</span><span class="token punctuation">(</span>TextInput<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            value<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
            onInput<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onInput<span class="token punctuation">,</span>
            placeholder<span class="token punctuation">:</span> <span class="token string">'Filter workers...'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">        v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></section></div>
<article class="aside"><strong>Injecting state</strong><p>The <a href="../1010_containers_and_injecting_state/">State management</a> tutorial details how to use Dojo 2 <code>Containers</code> and <code>Injectors</code> to inject external state as properties of widgets.</p></article>
<p>The <code>List</code> widget now renders both a <code>TextInput</code> to accept user input and a list of result items based on its <code>data</code> property. Item rendering is offloaded into a helper method (<code>renderItems</code>) so widgets extending <code>List</code> that need to modify the rendering of items only need to override a small helper method instead of the main <code>render</code> method.</p>
<p>The next step updates the <code>Banner</code> widget to pass the correct <code>data</code> into the <code>List</code></p>
<div class="task">Pass worker data down through the <code>Banner</code> to the <code>List</code></div>
<p>Currently, the application keeps all worker data as a private variable within the <code>App</code> widget. In order to use this data to also power the <code>List</code>, the <code>Banner</code> widget must also be updated to accept a <code>data</code> property so it can in turn pass it down to the <code>List</code> it renders.</p>
<div class="instruction">Export a <code>BannerProperties</code> interface from the <code>Banner</code> widget so a <code>data</code> array property can be passed into <code>Banner</code>:</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WorkerProperties <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./Worker'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">BannerProperties</span> <span class="token punctuation">{</span>
	data<span class="token operator">?</span><span class="token punctuation">:</span> WorkerProperties<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<div class="instruction">Update the generic parameter passed into <code>WidgetBase</code> to use the new interface:</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Banner</span> <span class="token keyword">extends</span> <span class="token class-name">WidgetBase</span><span class="token operator">&lt;</span>BannerProperties<span class="token operator">></span> <span class="token punctuation">{</span>
</code></pre>
<div class="instruction">Pass worker data to the routing outlet for the <code>Banner</code> widget in <code>App.ts</code>:</div>
<pre class=" language-ts"><code class="language-ts"><span class="token function">w</span><span class="token punctuation">(</span>BannerOutlet<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    data<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_workerData
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>Now that the <code>Banner</code> widget has worker data, it can pass a subset of this data into the <code>List</code> widget based on the current <code>List</code> input value.</p>
<div class="instruction">Pass a subset of worker data into the <code>List</code> based on its <code>value</code> in <code>Banner.ts</code>:</div>
<pre class="language-javascript"><code class="language-javascript">	<span class="token keyword">private</span> _data<span class="token punctuation">:</span> any<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token keyword">protected</span> <span class="token function">filterData</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">;</span>

		<span class="token keyword">this</span><span class="token punctuation">.</span>_data <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">:</span> WorkerProperties<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>firstName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>lastName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
			<span class="token keyword">const</span> match <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`^</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">Boolean</span><span class="token punctuation">(</span>match <span class="token operator">&amp;&amp;</span> match<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">[</span>
			<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'I am a title!'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Welcome To Biz-E-Bodies'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'label'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'Find a worker:'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function">w</span><span class="token punctuation">(</span>List<span class="token punctuation">,</span> <span class="token punctuation">{</span>
				onInput<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>filterData<span class="token punctuation">,</span>
				value<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
				data<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_data <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span>data
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre>
<p>A helper method was added that filters worker data items by name based on a query value. These filtered items are passed to the <code>List</code> as its <code>data</code>, causing the <code>List</code> to render result items if any items exist based on the user-specified filter.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>A filterable list widget was created throughout this tutorial to demonstrate how Dojo 2 widgets have no coupling to a specific data store implementation. Despite the simplicity of this example widget, it demonstrates a key departure from Dojo 1 and other widget frameworks that lack reactivity: data-driven widgets request data from their parent and parents pass data back down to their children.</p>
<p>It’s also important to note that in this tutorial, hardcoded worker data is passed down from the <code>App</code> widget to the <code>Banner</code> widget and ultimately to the <code>List</code> widget, but the data could be provided from any data source, including a remote server. It’s entirely possible for <code>Banner</code> to directly initiate an XHR request for data, and it’s also possible for <code>Banner</code> to dispatch an action to an application store that in turn requests data. The flexibility provided by the widget system makes it so the <code>List</code> is not concerned with the data origin. Instead, data-driven widgets in Dojo 2 both request and receive data using their <code>properties</code>, and the parent is responsible for either relaying or initiating the data request itself.</p>
<p>If you would like, you can download the completed <a href="../assets/1060_data_driven_widgets-finished.zip">demo application</a>.</p>
</section>

		<div class="section-one hidden"><a class="button is-primary begin-button">Begin Tutorial</a></div>
	</div>
</div>
				</div>
				<footer class="footer">
	<div class="container">
		<div class="info">
			<span class="is-size-7">&copy; 2017 JS Foundation, All Rights Reserved.</span>
		</div>
		<div class="link-container">
			<div class="links">
				<a href="https://twitter.com/dojo" class="twitter"></a>
				<a href="https://github.com/dojo" class="github"></a>
			</div>
		</div>
	</div>
</footer>

			</div>
			
				<div class="paginator">
	<div class="container paginator-controls">
		<nav id="paginator" class="pagination is-centered" role="navigation" aria-label="pagination">
				<a class="pagination-previous">Previous</a>
				<a class="pagination-next">Next page</a>
				<ul class="pagination-list">

				</ul>
		</nav>
	</div>
</div>


<script src="/js/tutorial-support.js"></script>
<script>
	function isMobile() {
		if( navigator.userAgent.match(/Android/i)
		|| navigator.userAgent.match(/webOS/i)
		|| navigator.userAgent.match(/iPhone/i)
		|| navigator.userAgent.match(/iPad/i)
		|| navigator.userAgent.match(/iPod/i)
		|| navigator.userAgent.match(/BlackBerry/i)
		|| navigator.userAgent.match(/Windows Phone/i)
		){
			return true;
		}
		else {
			return false;
		}
	}
	if (isMobile()) {
		(function() {
			var paginator = document.querySelector('.paginator');
			paginator && paginator.parentNode.removeChild(paginator);
			var sections = document.querySelectorAll('section.tutorial');
			for (var i = 0; i < sections.length; i++) {
				var section = sections[i];
				section.classList.remove('hidden', 'hiding');
			}
		})();
	}
	else {
		tutorial.populatePaginator(document.getElementById('paginator'), 'Data-driven widgets');
	}
</script>

			
		</div>
		
<!-- build:js /js/combined.js -->
<script src='/js/site.js'></script>
<!-- endbuild -->
	</body>
</html>
