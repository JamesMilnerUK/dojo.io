<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	

	<title>Theming | Dojo</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="description" content="ThemingOverviewThis tutorial will extend on previous tutorials where we created the basic biz-e-corp application. In this tutorial, we will adapt the app to allow it to be themed, then write a theme">
<meta property="og:type" content="website">
<meta property="og:title" content="Theming">
<meta property="og:url" content="https://dojo.github.io/tutorials/007_theming/index.html">
<meta property="og:site_name" content="Dojo">
<meta property="og:description" content="ThemingOverviewThis tutorial will extend on previous tutorials where we created the basic biz-e-corp application. In this tutorial, we will adapt the app to allow it to be themed, then write a theme">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2017-12-27T20:36:21.596Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Theming">
<meta name="twitter:description" content="ThemingOverviewThis tutorial will extend on previous tutorials where we created the basic biz-e-corp application. In this tutorial, we will adapt the app to allow it to be themed, then write a theme">
<meta name="twitter:creator" content="@https:&#x2F;&#x2F;twitter.com&#x2F;dojo">
	
		<link rel="alternate" href="/atom.xml" title="Dojo" type="application/atom+xml">
	
	
		<link rel="icon" href="/images/favicons/favicon.ico">
	
	<link rel="stylesheet" href="/css/main.css">
	
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-3242977-15', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<link rel="stylesheet" href="/css/prism-ghcolors.css" type="text/css"></head>

	<body class="body-tutorial
">
		<div class="page-wrapper">
			<header class="header">
	<div class="container">
		<nav class="navbar">
			<div class="navbar-brand">
				<a href="/" class="navbar-item"><img src="/images/logos/dojo2-logo-white.svg" class="site-logo" alt="Dojo"></a>
				<div class="navbar-burger">
					<span></span>
					<span></span>
					<span></span>
				</div>
			</div>
			<div class="navbar-menu">
				<div class="navbar-start"></div>
				<div class="navbar-end">
					<a class="navbar-item" href="/docs/fundamentals/accessibility/index.html">Docs</a>
					<a class="navbar-item" href="/tutorials">Tutorials</a>
					<a class="navbar-item" href="/cookbook/modern-web-apps/efficient-state-management.html">Cookbook</a>
					<a class="navbar-item" href="/blog">Blog</a>
					<a class="navbar-item" href="https://github.com/dojo/meta"><span class="icon is-medium"><i class="fa fa-github" aria-hidden="true"></i></span></a>
				</div>
			</div>
		</nav>
	</div>
</header>

			<div class="content-wrapper">
				<div class="page-content">
					<div class="section">
	<div class="container article">	
		<nav class="breadcrumb is-small hidden" aria-label="breadcrumbs">
			<ul>
				<li><a href="/tutorials">Tutorials</a></li>
				<li><a href="#">Theming</a></li>
				<li class="is-active"><a class="step-current"></a></li>
			</ul>
		</nav>
		<section class="tutorial hidden hiding">
<h1 id="Theming"><a href="#Theming" class="headerlink" title="Theming"></a>Theming</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>This tutorial will extend on previous tutorials where we created the basic biz-e-corp application. In this tutorial, we will adapt the app to allow it to be themed, then write a theme and apply it to our application. This will be done using the powerful theming system that is included in the Dojo 2 widget system.</p>
<h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><p>You can <a href="../assets/007_theming-initial.zip">download</a> the demo project and run <code>npm install</code> to get started.</p>
<p>The <code>@dojo/cli</code> command line tool should be installed globally. Refer to the <a href="../000_local_installation/">Dojo 2 local installation</a> article for more information.</p>
<p>You also need to be familiar with TypeScript as Dojo 2 uses it extensively. For more information, refer to the <a href="../../docs/fundamentals/typescript_and_dojo_2/">TypeScript and Dojo 2</a> article.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Theming-our-widgets"><a href="#Theming-our-widgets" class="headerlink" title="Theming our widgets"></a>Theming our widgets</h2><div class="task">Theming our widgets</div>
<p>In Dojo, we differentiate between two types of styles:</p>
<ul>
<li>Structural styles: these are the minimum necessary for a widget to function</li>
<li>Visual styles: these are themed</li>
</ul>
<p>The current CSS in the example app provides the structural styles, we will now review how to create and manage themes.</p>
<p>In order to theme our widgets, we must ensure that they each extend <code>ThemedMixin</code> and should change their top level class name to <code>root</code>. <code>ThemedMixin</code> provides a <code>this.theme</code> function for looking up class names in the provided <code>theme</code> file and applies the processed class names. We change the top level class name to <code>root</code> in order to provide a predictable way to target the outer-node of a widget.</p>
<div class="instruction">Replace the contents of <code>Banner.ts</code> with the following</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WidgetBase <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/WidgetBase'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> v <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/d'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> theme<span class="token punctuation">,</span> ThemedMixin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/mixins/Themed'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> css <span class="token keyword">from</span> <span class="token string">'../styles/banner.m.css'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> BannerBase <span class="token operator">=</span> <span class="token function">ThemedMixin</span><span class="token punctuation">(</span>WidgetBase<span class="token punctuation">)</span><span class="token punctuation">;</span>

@<span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Banner</span> <span class="token keyword">extends</span> <span class="token class-name">BannerBase</span> <span class="token punctuation">{</span>
	<span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'I am a title!'</span><span class="token punctuation">,</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>root<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Biz-E-Bodies'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<article class="aside"><strong>Reminder</strong><p>If you cannot see the application, remember to run <code>dojo build -w</code> to build the application and start the development server.</p></article>
<p>This <code>Banner</code> widget will now have access to the classes in <code>banner.m.css</code> and can receive a <code>theme</code>. We use the <code>root</code> class to ensure that the theme we create can easily target the correct node.<br>Notice that this file and other <code>css</code> files now have a <code>.m.css</code> file extension. This is to indicate to the <a href="../006_deploying_to_production/">Dojo 2 build system</a> that this file is a <code>css-module</code> and should be processed as such.</p>
<article class="aside"><strong>CSS Modules</strong><p><a href="https://github.com/css-modules/css-modules" target="_blank" rel="noopener">CSS Modules</a> is a technique to use scoped CSS classnames by default.</p></article>
<div class="instruction">Create a new style sheet for the <code>Banner</code> widget named <code>banner.m.css</code>.</div>
<p>We will create an empty <code>root</code> class for now as our base theme does not require any styles to be added to the <code>Banner</code> widget.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.root</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre>
<div class="instruction">Now, let's look at changing the <code>WorkerForm</code> widget</div>
<article class="aside"><strong>Fixed Classes</strong><p>Fixed classes apply styles that cannot be overridden by a theme, using a suffix is a convention that helps easily differentiate the intention of these classes.</p></article>
<p><code>WorkerForm</code> already uses the <code>ThemedMixin</code> and has a <code>workerForm</code> class on its root node. Let’s change the workerForm class to a <code>root</code> class, and while we are there, we will create a <code>rootFixed</code> class too, and apply it to the root node. Classes that are not passed to <code>theme</code> cannot be changed or overridden via a theme, ensuring that structured or nested styles are not lost when a theme is used.</p>
<pre class="language-javascript"><code class="language-javascript">		<span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			classes<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>root<span class="token punctuation">)</span><span class="token punctuation">,</span> css<span class="token punctuation">.</span>rootFixed <span class="token punctuation">]</span><span class="token punctuation">,</span>
			onsubmit<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_onSubmit
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
</code></pre>
<p>Replace all of the selectors containing <code>.workerForm</code> with the following rules in <code>workerForm.m.css</code>.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.root</span> <span class="token punctuation">{</span>
	<span class="token property">margin-bottom</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.rootFixed</span> <span class="token punctuation">{</span>
	<span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.rootFixed fieldset,
.rootFixed label</span> <span class="token punctuation">{</span>
	<span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
	<span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.rootFixed label</span> <span class="token punctuation">{</span>
	<span class="token property">margin-right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>If you open the application in a browser its appearance and behavior should be unchanged.</p>
<div class="instruction">Now update <code>worker.m.css</code> and <code>workerContain.m.css</code> to use <code>.root</code> and <code>.rootFixed</code> and then update the associated widgets to use the new selectors.</div>
<div class="instruction">When you are finished, click on toggle solution to see one possible result.</div>
<div class="solution-container"><button class="toggle-solution" data-target="showsolution1">Toggle Solution</button><section id="showsolution1" class="hidden"><pre class="language-javascript"><code>
<span class="token comment">/* workerContainer.m.css */</span>
<span class="token punctuation">.</span>rootFixed <span class="token punctuation">{</span>
	display<span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
	flex<span class="token operator">-</span>flow<span class="token punctuation">:</span> row wrap<span class="token punctuation">;</span>
	justify<span class="token operator">-</span>content<span class="token punctuation">:</span> center<span class="token punctuation">;</span>
	align<span class="token operator">-</span>items<span class="token punctuation">:</span> stretch<span class="token punctuation">;</span>
	margin<span class="token punctuation">:</span> <span class="token number">0</span> auto<span class="token punctuation">;</span>
	width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>root <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment">/* worker.m.css */</span>

<span class="token comment">/* all rules were originally in the .worker selector */</span>
<span class="token punctuation">.</span>root <span class="token punctuation">{</span>
	margin<span class="token punctuation">:</span> <span class="token number">0</span> 10px 40px<span class="token punctuation">;</span>
	max<span class="token operator">-</span>width<span class="token punctuation">:</span> 350px<span class="token punctuation">;</span>
	min<span class="token operator">-</span>width<span class="token punctuation">:</span> 250px<span class="token punctuation">;</span>
	flex<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token operator">%</span> <span class="token operator">-</span> 20px<span class="token punctuation">)</span><span class="token punctuation">;</span>
	position<span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>rootFixed <span class="token punctuation">{</span>
	<span class="token comment">/* flip transform styles */</span>
	perspective<span class="token punctuation">:</span> 1000px<span class="token punctuation">;</span>
	transform<span class="token operator">-</span>style<span class="token punctuation">:</span> preserve<span class="token operator">-</span>3d<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// WorkerContainer.ts</span>
<span class="token comment">// ...</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			classes<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>root<span class="token punctuation">)</span><span class="token punctuation">,</span> css<span class="token punctuation">.</span>rootFixed <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> workers<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token comment">// Worker.ts</span>
<span class="token comment">// ...</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        classes<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span><span class="token punctuation">[</span> css<span class="token punctuation">.</span>root<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_isFlipped <span class="token operator">?</span> css<span class="token punctuation">.</span>reverse <span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> css<span class="token punctuation">.</span>rootFixed <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

</code></pre></section></div>
<p>Next, we will start to create a theme.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Creating-a-Theme"><a href="#Creating-a-Theme" class="headerlink" title="Creating a Theme"></a>Creating a Theme</h2><div class="task">Create a theme directory</div>
<p>Let’s create a <code>themes</code> directory under your project <code>src</code> to store our theme resources, and create a <code>dojo</code> theme with <code>theme.ts</code> under <code>src/themes/dojo/theme.ts</code>. This is the <code>theme</code> resource where we will import our themed CSS files and export the keyed theme for consumption by our widgets.</p>
<div class="instruction">Theme the Worker widget</div>
<p>In order to theme the <code>Worker</code> widget, we need to create <code>worker.m.css</code> within our <code>themes/dojo</code> directory and use it within <code>theme.ts</code>. The naming here is important as the object key of the exported theme must match the naming of the widget’s style sheet.</p>
<p>Add the following code to <code>theme.ts</code>:</p>
<pre class=" language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token operator">*</span> as worker <span class="token keyword">from</span> <span class="token string">'./worker.m.css'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    worker
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Let’s start by creating a red <code>Worker</code> and observe our theme being applied correctly.</p>
<pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* worker.m.css */</span>
<span class="token selector"><span class="token class">.root</span> </span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>To apply a theme to a widget, simply pass the <code>theme</code> as a property to widgets to have the <code>ThemedMixin</code> applied. To ensure that the entire application applies the <code>theme</code> it needs to be passed to all the themed widgets in our application. This can become problematic when an application uses a mixture of themed and non-themed widgets, or uses a widget from a third party, meaning that there is no guarantee that the <code>theme</code> will be propagated as required.</p>
<article class="aside"><strong>What is a registry?</strong><p>A registry provides a mechanism to inject external payloads into widgets throughout the application tree. To learn more, take a look at the <a href="../1010_containers_and_injecting_state/">container tutorial</a> and <a href="../1020_registries/">registry tutorial</a>.</p></article>
<p>However an application can automatically inject a <code>theme</code> from the <code>registry</code> to every themed widget in an application tree. First, create a <code>themeInjector</code> using the <code>registerThemeInjector</code> function by passing a <code>registry</code> instance and <code>theme</code>. This will return a handle to the <code>themeInjector</code> that can be used to change the theme using <code>themeInjector.set()</code>, which will invalidate all themed widgets in the application tree and re-render using the new theme!</p>
<div class="instruction">Update our <code>main.ts</code> file to import our theme and create a <code>themeInjector</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> ProjectorMixin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/mixins/Projector'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./widgets/App'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> registerThemeInjector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/mixins/Themed'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Registry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/Registry'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> theme <span class="token keyword">from</span> <span class="token string">'./themes/dojo/theme'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> root <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'my-app'</span><span class="token punctuation">)</span> <span class="token operator">||</span> undefined<span class="token punctuation">;</span>
<span class="token keyword">const</span> registry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Registry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">registerThemeInjector</span><span class="token punctuation">(</span>theme<span class="token punctuation">,</span> registry<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Projector <span class="token operator">=</span> <span class="token function">ProjectorMixin</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> projector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Projector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

projector<span class="token punctuation">.</span><span class="token function">setProperties</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	registry
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

projector<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Open the application in your web browser and see that the <code>Worker</code> backgrounds are now <code>red</code>.</p>
<div class="instruction">Use variables and complete the Worker theme</div>
<p>The <a href="../006_deploying_to_production/">Dojo 2 build system</a> supports new CSS features such as <code>css-custom-properties</code> by using PostCSS to process our <code>.m.css</code> files. We can use these new CSS features to add variables to <code>worker.m.css</code> and complete its theme.<br>Let’s create <code>themes/dojo/variables.css</code> (notice that this file does not have a <code>.m.css</code> extension as it is not a <code>css-module</code> file).</p>
<pre class="language-css"><code class="language-css"><span class="token selector">:root</span> <span class="token punctuation">{</span>
	<span class="token property">--font</span><span class="token punctuation">:</span> <span class="token string">'arial'</span><span class="token punctuation">;</span>
	<span class="token property">--container</span><span class="token punctuation">:</span> #f9f9f9<span class="token punctuation">;</span>
	<span class="token property">--body</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span>
	<span class="token property">--card</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
	<span class="token property">--accent</span><span class="token punctuation">:</span> #0071f2<span class="token punctuation">;</span>
	<span class="token property">--secondary-accent</span><span class="token punctuation">:</span> #075cbe<span class="token punctuation">;</span>
	<span class="token property">--component-accent</span><span class="token punctuation">:</span> #f4f4f4<span class="token punctuation">;</span>
	<span class="token property">--input-border</span><span class="token punctuation">:</span> #d6dde3<span class="token punctuation">;</span>
	<span class="token property">--padding</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
	<span class="token property">--spacing</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In the above code you can see that we have created a number of CSS Custom Properties to be used within our theme and wrapped them in a <code>:root</code> selector which makes them available on the global scope within our <code>css-modules</code>.<br>To use them, we can <code>@import</code> the <code>variables.css</code> file and use the <code>var</code> keyword to assign a <code>css-custom-property</code> to a css rule.</p>
<p>Now we will use these variables in <code>worker.m.css</code> to create our fully themed <code>Worker</code>.</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token string">'./variables'</span><span class="token punctuation">;</span></span>

<span class="token selector">.root</span> <span class="token punctuation">{</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 320px<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 370px<span class="token punctuation">;</span>
	<span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
	<span class="token property">margin</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--spacing<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.image</span> <span class="token punctuation">{</span>
	<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--component-accent<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 250px<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 250px<span class="token punctuation">;</span>
	<span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--padding<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.imageSmall</span> <span class="token punctuation">{</span>
	<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--component-accent<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 72px<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 72px<span class="token punctuation">;</span>
	<span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
	<span class="token property">margin-right</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.workerFront, .workerBack</span> <span class="token punctuation">{</span>
	<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
	<span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
	<span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
	<span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
	<span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
	<span class="token property">border</span><span class="token punctuation">:</span> 1px solid <span class="token function">var</span><span class="token punctuation">(</span>--component-accent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.workerFront</span> <span class="token punctuation">{</span>
	<span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 1px 2px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>0, 0, 0, 0.35<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">padding</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--padding<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.workerBack</span> <span class="token punctuation">{</span>
	<span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 20px 35px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>0, 0, 0, 0.15<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--card<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--body<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.heading</span> <span class="token punctuation">{</span>
	<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--accent<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--card<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">padding</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.generalInfo</span> <span class="token punctuation">{</span>
	<span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
	<span class="token property">vertical-align</span><span class="token punctuation">:</span> top<span class="token punctuation">;</span>
	<span class="token property">line-height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.generalInfo .label</span> <span class="token punctuation">{</span>
	<span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.tasks strong</span> <span class="token punctuation">{</span>
	<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--secondary-accent<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--card<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
	<span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
	<span class="token property">padding</span><span class="token punctuation">:</span> 14px 24px<span class="token punctuation">;</span>
	<span class="token property">text-transform</span><span class="token punctuation">:</span> uppercase<span class="token punctuation">;</span>
	<span class="token property">font-weight</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.task</span> <span class="token punctuation">{</span>
	<span class="token property">padding</span><span class="token punctuation">:</span> 12px 24px<span class="token punctuation">;</span>
	<span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid <span class="token function">var</span><span class="token punctuation">(</span>--component-accent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</section><section class="tutorial hidden hiding">
<h2 id="Theming-Dojo-widgets"><a href="#Theming-Dojo-widgets" class="headerlink" title="Theming Dojo widgets"></a>Theming Dojo widgets</h2><p>Thus far in this tutorial, we have themed our custom <code>Worker</code> widget, but we have not targeted Dojo widgets that are contained within our application. To demonstrate the styling of Dojo widgets, we will theme the <code>workerForm</code> widget as it contains both DOM nodes and Dojo widgets.</p>
<div class="instruction">Let's create <code>workerForm.m.css</code></div>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token string">'./variables'</span><span class="token punctuation">;</span></span>

<span class="token selector">.root</span> <span class="token punctuation">{</span>
	<span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--font<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">padding</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
	<span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
	<span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.nameLabel</span> <span class="token punctuation">{</span>
	<span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<div class="instruction">And include it in <code>theme.ts</code></div>
<pre class=" language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token operator">*</span> as worker <span class="token keyword">from</span> <span class="token string">'./worker.m.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> as workerForm <span class="token keyword">from</span> <span class="token string">'./workerForm.m.css'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    worker<span class="token punctuation">,</span>
    workerForm
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>This should be familiar from theming the <code>Worker</code> in the previous section. To theme the Dojo 2 <code>TextInput</code> within our <code>WorkerForm</code>, we need to create <code>dojoTextInput.m.css</code> and export it from <code>theme.ts</code> using a theme key prefixed with <code>dojo-</code>. The dojo prefix helps ensure that the Dojo widget theme keys do not clash with application widget theme keys.</p>
<div class="instruction">Create <code>dojoTextInput.m.css</code></div>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token string">'./variables'</span><span class="token punctuation">;</span></span>

<span class="token selector">.root</span> <span class="token punctuation">{</span>
	<span class="token property">composes</span><span class="token punctuation">:</span> nameLabel from <span class="token string">'./workerForm.m.css'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.input</span> <span class="token punctuation">{</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 38px<span class="token punctuation">;</span>
	<span class="token property">border</span><span class="token punctuation">:</span> 1px solid <span class="token function">var</span><span class="token punctuation">(</span>--input-border<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
	<span class="token property">border-bottom-color</span><span class="token punctuation">:</span> <span class="token function">color</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--input-border<span class="token punctuation">)</span> <span class="token function">blackness</span><span class="token punctuation">(</span>60%<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token property">padding</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
	<span class="token property">min-width</span><span class="token punctuation">:</span> 230px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<div class="instruction">And export it from <code>theme.ts</code></div>
<pre class=" language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token operator">*</span> as worker <span class="token keyword">from</span> <span class="token string">'./worker.m.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> as workerForm <span class="token keyword">from</span> <span class="token string">'./workerForm.m.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> as dojoTextInput <span class="token keyword">from</span> <span class="token string">'./dojoTextInput.m.css'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    worker<span class="token punctuation">,</span>
    workerForm<span class="token punctuation">,</span>
    <span class="token string">'dojo-textinput'</span><span class="token punctuation">:</span> dojoTextInput
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Notice the styling rule for the <code>.root</code> selector? Here we are introducing another powerful part of the Dojo 2 theming system, <code>composes</code>. Composes originates in the <a href="https://github.com/css-modules/css-modules#composition" target="_blank" rel="noopener"><code>css-module</code> specification</a>, allowing you to apply styles from one class selector to another. Here we are specifying that the <code>root</code> of a <code>TextInput</code> (the label text in this case), should appear the same as the <code>nameLabel</code> class in our <code>WidgetForm</code>. This approach can be very useful when creating multiple themes from a <code>baseTheme</code> and avoids repetitive redefinition of style rules.</p>
<p>In your web browser you will see the <code>TextInput</code> widgets at the top of the form have been styled.</p>
<div class="instruction">Create a theme resource for the Dojo Button</div>
<p>Create a theme resource for the Dojo <code>Button</code> within <code>WidgetForm</code> following the same pattern within this tutorial.</p>
<div class="instruction">When you are finished, click on toggle solution to see the results.</div>
<div class="solution-container"><button class="toggle-solution" data-target="showsolution2">Toggle Solution</button><section id="showsolution2" class="hidden"><pre class="language-javascript"><code>
@<span class="token keyword">import</span> <span class="token string">'./variables'</span><span class="token punctuation">;</span>

<span class="token punctuation">.</span>root <span class="token punctuation">{</span>
	height<span class="token punctuation">:</span> 38px<span class="token punctuation">;</span>
	border<span class="token punctuation">:</span> 1px solid <span class="token keyword">var</span><span class="token punctuation">(</span><span class="token operator">--</span>input<span class="token operator">-</span>border<span class="token punctuation">)</span><span class="token punctuation">;</span>
	background<span class="token punctuation">:</span> <span class="token keyword">var</span><span class="token punctuation">(</span><span class="token operator">--</span>card<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color<span class="token punctuation">:</span> <span class="token keyword">var</span><span class="token punctuation">(</span><span class="token operator">--</span>accent<span class="token punctuation">)</span><span class="token punctuation">;</span>
	font<span class="token operator">-</span>size<span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
	font<span class="token operator">-</span>weight<span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
	padding<span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
	min<span class="token operator">-</span>width<span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
	vertical<span class="token operator">-</span>align<span class="token punctuation">:</span> bottom<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></section></div>
</section><section class="tutorial hidden hiding">
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>In this tutorial, we learned:</p>
<ul>
<li>How to create a theme</li>
<li>How to apply a theme to both Dojo and custom widgets using the <code>themeInjector</code>.</li>
<li>How to leverage functionality from the Dojo 2 theming system to apply variables</li>
<li>How to use <code>composes</code> to share styles between components</li>
</ul>
<p>You can download the completed <a href="../assets/007_theming-finished.zip">demo application</a> from this tutorial.</p>
</section>

		<div class="section-one hidden"><a class="button is-primary begin-button">Begin Tutorial</a></div>
	</div>
</div>
				</div>
				<footer class="footer">
	<div class="container">
		<div class="info">
			<span class="is-size-7">&copy; 2017 JS Foundation, All Rights Reserved.</span>
		</div>
		<div class="link-container">
			<div class="links">
				<a href="https://twitter.com/dojo" class="twitter"></a>
				<a href="https://github.com/dojo" class="github"></a>
			</div>
		</div>
	</div>
</footer>

			</div>
			
				<div class="paginator">
	<div class="container paginator-controls">
		<nav id="paginator" class="pagination is-centered" role="navigation" aria-label="pagination">
				<a class="pagination-previous">Previous</a>
				<a class="pagination-next">Next page</a>
				<ul class="pagination-list">

				</ul>
		</nav>
	</div>
</div>


<script src="/js/tutorial-support.js"></script>
<script>
	function isMobile() {
		if( navigator.userAgent.match(/Android/i)
		|| navigator.userAgent.match(/webOS/i)
		|| navigator.userAgent.match(/iPhone/i)
		|| navigator.userAgent.match(/iPad/i)
		|| navigator.userAgent.match(/iPod/i)
		|| navigator.userAgent.match(/BlackBerry/i)
		|| navigator.userAgent.match(/Windows Phone/i)
		){
			return true;
		}
		else {
			return false;
		}
	}
	if (isMobile()) {
		(function() {
			var paginator = document.querySelector('.paginator');
			paginator && paginator.parentNode.removeChild(paginator);
			var sections = document.querySelectorAll('section.tutorial');
			for (var i = 0; i < sections.length; i++) {
				var section = sections[i];
				section.classList.remove('hidden', 'hiding');
			}
		})();
	}
	else {
		tutorial.populatePaginator(document.getElementById('paginator'), 'Theming');
	}
</script>

			
		</div>
		
<!-- build:js /js/combined.js -->
<script src='/js/site.js'></script>
<!-- endbuild -->
	</body>
</html>
