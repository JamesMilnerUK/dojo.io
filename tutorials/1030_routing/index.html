<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Routing | Dojo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Application routingOverview@dojo/routing is a powerful set of tools to support declarative routing using a high order component, an Outlet and a component that creates links with a href generated fro">
<meta property="og:type" content="website">
<meta property="og:title" content="Routing">
<meta property="og:url" content="https://dojo.github.io/tutorials/1030_routing/index.html">
<meta property="og:site_name" content="Dojo">
<meta property="og:description" content="Application routingOverview@dojo/routing is a powerful set of tools to support declarative routing using a high order component, an Outlet and a component that creates links with a href generated fro">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2017-10-26T21:58:23.801Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Routing">
<meta name="twitter:description" content="Application routingOverview@dojo/routing is a powerful set of tools to support declarative routing using a high order component, an Outlet and a component that creates links with a href generated fro">
<meta name="twitter:creator" content="@https:&#x2F;&#x2F;twitter.com&#x2F;dojo">
  
    <link rel="alternate" href="/atom.xml" title="Dojo" type="application/atom+xml">
  
  
    <link rel="icon" href="/images/favicons/favicon.ico">
  
  <link rel="stylesheet" href="/css/main.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-3242977-15', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<link rel="stylesheet" href="/css/prism-ghcolors.css" type="text/css"></head>

	<body class="body-tutorial
">
		<div class="page-wrapper">
			<header class="header">
	<div class="container">
		<nav class="navbar">
			<div class="navbar-brand">
				<a href="/" class="navbar-item"><img src="/images/logos/dojo2-logo-white.svg" class="site-logo" alt="Dojo"></a>
				<div class="navbar-burger">
					<span></span>
					<span></span>
					<span></span>
				</div>
			</div>
			<div class="navbar-menu">
				<div class="navbar-start"></div>
				<div class="navbar-end">
					<a class="navbar-item" href="/tutorials">Tutorials</a>
					<a class="navbar-item" href="/api">API</a>
					<a class="navbar-item" href="/blog">Blog</a>
					<a class="navbar-item" href="https://github.com/dojo/meta"><span class="icon is-medium"><i class="fa fa-github" aria-hidden="true"></i></span></a>
				</div>
			</div>
		</nav>
	</div>
</header>

			<div class="content-wrapper">
				<div class="page-content">
					<div class="section">
	<div class="container article">	
		<nav class="breadcrumb is-small hidden" aria-label="breadcrumbs">
			<ul>
				<li><a href="/tutorials">Tutorials</a></li>
				<li><a href="#">Routing</a></li>
				<li class="is-active"><a class="step-current"></a></li>
			</ul>
		</nav>
		<section class="tutorial hidden hiding">
<h1 id="Application-routing"><a href="#Application-routing" class="headerlink" title="Application routing"></a>Application routing</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p><code>@dojo/routing</code> is a powerful set of tools to support declarative routing using a high order component, an <code>Outlet</code> and a component that creates links with a <code>href</code> generated from an <code>outlet</code> name.</p>
<p>In this tutorial, we will start with a basic application with no routing. We will use Dojo 2â€™s declarative routing to configure some routes, create <code>outlets</code> from our existing widgets and use the <code>Link</code> component to create links for the application outlets.</p>
<h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><p>You can <a href="../assets/1030_routing-initial.zip">download</a> the demo project and run <code>npm install</code> to get started.</p>
<p>The <code>@dojo/cli</code> command line tool should be installed globally. Refer to the <a href="../000_local_installation/">Dojo 2 local installation</a> article for more information.</p>
<p>You also need to be familiar with TypeScript as Dojo 2 uses it extensively. For more information, refer to the <a href="../comingsoon.html">TypeScript and Dojo 2</a> article.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Configuring-the-router"><a href="#Configuring-the-router" class="headerlink" title="Configuring the router"></a>Configuring the router</h2><div class="task">Create the routing configuration</div>
<p>All application routes needs to be to configured when creating the router instance, otherwise entering a route will not trigger a transition within the application. The <code>RouteConfig</code> is a basic object consisting of <code>path</code>, <code>outlet</code>, <code>defaultParams</code>, <code>defaultRoute</code> and <code>children</code>.</p>
<p>The routing hierarchy is generated by adding an array, <code>RouteConfigs</code>, to the children property, which get recursively processed, building up the application routing paths.</p>
<div class="instruction">Include the required imports in the file <code>main.ts</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Registry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/Registry'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> registerRouterInjector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/routing/RouterInjector'</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Define the routing configuration.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> routingConfig <span class="token operator">=</span> <span class="token punctuation">[</span>
	<span class="token punctuation">{</span>
		path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
		outlet<span class="token punctuation">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
		defaultRoute<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
				path<span class="token punctuation">:</span> <span class="token string">'directory'</span><span class="token punctuation">,</span>
				outlet<span class="token punctuation">:</span> <span class="token string">'directory'</span><span class="token punctuation">,</span>
				children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
					<span class="token punctuation">{</span>
						path<span class="token punctuation">:</span> <span class="token string">'{filter}'</span><span class="token punctuation">,</span>
						outlet<span class="token punctuation">:</span> <span class="token string">'filter'</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">]</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				path<span class="token punctuation">:</span> <span class="token string">'new-worker'</span><span class="token punctuation">,</span>
				outlet<span class="token punctuation">:</span> <span class="token string">'new-worker'</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Now, register the router in a <code>registry</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> registry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Registry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">registerRouterInjector</span><span class="token punctuation">(</span>routingConfig<span class="token punctuation">,</span> registry<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>A helper utility above, is provided by <code>@dojo/routing</code>, that can be used to create a routing instance. The utility accepts the applications routing configuration, and a <code>registry</code> to define a <code>router</code> injector against. The utility returns the <code>router</code> instance.</p>
<div class="instruction">Finally, set the registry on the projector and call the <code>start</code> method on the <code>router</code> instance.</div>
<pre class="language-javascript"><code class="language-javascript">projector<span class="token punctuation">.</span><span class="token function">setProperties</span><span class="token punctuation">(</span><span class="token punctuation">{</span> registry <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

projector<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<article class="aside"><strong>Important!</strong><p>When using a <code>defaultRoute</code> in the routing configuration, the <code>router</code> will need to be started *after* the projector is appended.</p></article>
<p>Finally, to initialize the routing, the <code>start</code> method needs to be called on the <code>router</code> instance.</p>
<p>Next, we will create <code>outlets</code> to control when our widgets are displayed.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Routing-outlets"><a href="#Routing-outlets" class="headerlink" title="Routing outlets"></a>Routing outlets</h2><div class="task">Create outlets for the routed widgets.</div>
<article class="aside"><strong>Reminder</strong><p>The path that is associated to an outlet name is defined by the routing configuration from the first section of this tutorial.</p></article>
<p>An <code>Outlet</code> is a higher order component that wraps a widget, and controls whether the widget is rendered based on the navigated route associated to the outlets name. To keep our application organized, outlets are usually stored in a separate directory named <code>outlets</code>.</p>
<div class="instruction">Add the following code to <code>WorkerFormOutlet.ts</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Outlet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/routing/Outlet'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> WorkerForm <span class="token keyword">from</span> <span class="token string">'./../widgets/WorkerForm'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> WorkerFormOutlet <span class="token operator">=</span> <span class="token function">Outlet</span><span class="token punctuation">(</span>WorkerForm<span class="token punctuation">,</span> <span class="token string">'new-worker'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> WorkerFormOutlet<span class="token punctuation">;</span>
</code></pre>
<p>The first argument for the <code>Outlet</code> function determines the widget to display when the configured route is selected. Consider an <code>outlet</code> configured for a <code>path</code> of <code>foo</code>, its wrapped widget will render for a selected route <code>foo</code> (described as an <code>index</code> match). The application will also display for any route that the outletâ€™s <code>path</code> partially matches, for example, <code>foo/bar</code> or <code>foo/bar/baz</code>.</p>
<p>Normally using a component for as the first argument of <code>Outlet</code> is perfectly acceptable, however there are scenarios where it is necessary to explicitly define a widget for an <code>index</code> match. To support this more advanced configuration, the first argument also accepts an object that can be used to specify these components explicitly.</p>
<pre class=" language-ts"><code class="language-ts"><span class="token keyword">const</span> ExampleOutlet <span class="token operator">=</span> <span class="token function">Outlet</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    index<span class="token punctuation">:</span> MyIndexComponent<span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> MyComponent<span class="token punctuation">,</span>
    error<span class="token punctuation">:</span> MyErrorComponent
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'outlet-name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>We use the advanced configuration for both the <code>BannerOutlet.ts</code> and <code>WorkerContainerOutlet.ts</code>, as we do not want the widgets to render for routes unless they are an exact match for the selected route.</p>
<div class="instruction">Add the following code to <code>WorkerContainerOutlet.ts</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Outlet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/routing/Outlet'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> WorkerContainer <span class="token keyword">from</span> <span class="token string">'./../widgets/WorkerContainer'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> WorkerContainerOutlet <span class="token operator">=</span> <span class="token function">Outlet</span><span class="token punctuation">(</span><span class="token punctuation">{</span> index<span class="token punctuation">:</span> WorkerContainer <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'directory'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> WorkerContainerOutlet<span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Add the following code to <code>BannerOutlet.ts</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Outlet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/routing/Outlet'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Banner <span class="token keyword">from</span> <span class="token string">'./../widgets/Banner'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> BannerOutlet <span class="token operator">=</span> <span class="token function">Outlet</span><span class="token punctuation">(</span><span class="token punctuation">{</span> index<span class="token punctuation">:</span> Banner <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> BannerOutlet<span class="token punctuation">;</span>
</code></pre>
<p>Now, we can the swap out the widgets for the newly created <code>outlets</code>. Notice we donâ€™t need to change any of the wrapped widgets!</p>
<div class="instruction">First, swap the widget imports for the outlet imports in <code>App.ts</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> WorkerFormOutlet <span class="token keyword">from</span> <span class="token string">'./../outlets/WorkerFormOutlet'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> WorkerContainerOutlet <span class="token keyword">from</span> <span class="token string">'./../outlets/WorkerContainerOutlet'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> BannerOutlet <span class="token keyword">from</span> <span class="token string">'./../outlets/BannerOutlet'</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Then, swap the widget usages for their outlets.</div>
<pre class="language-javascript"><code class="language-javascript">				<span class="token function">w</span><span class="token punctuation">(</span>BannerOutlet<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token function">w</span><span class="token punctuation">(</span>WorkerFormOutlet<span class="token punctuation">,</span> <span class="token punctuation">{</span>
					formData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_newWorker<span class="token punctuation">,</span>
					onFormInput<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_onFormInput<span class="token punctuation">,</span>
					onFormSave<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_addWorker
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token function">w</span><span class="token punctuation">(</span>WorkerContainerOutlet<span class="token punctuation">,</span> <span class="token punctuation">{</span>
					workerData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_workerData
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>Running the application now should display the <code>Banner.ts</code> by default, but also enable routing to the other widgets using the <code>/#directory</code> and <code>/#new-worker</code> routes.</p>
<p>Next, we will add a side menu with links for the created outlets.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Adding-Links"><a href="#Adding-Links" class="headerlink" title="Adding Links"></a>Adding Links</h2><div class="task">Add a sidebar menu to the application.</div>
<p>In this section we will be using the <code>Link</code> component, provided by <code>@dojo/routing</code>, to create link elements with an <code>href</code> attribute for an outlet name. A <code>label</code> for the <code>Link</code> can be passed as children and <code>param</code> values for the outlet can be passed to a <code>Link</code> component using the <code>params</code> property.</p>
<pre class=" language-ts"><code class="language-ts"><span class="token function">w</span><span class="token punctuation">(</span>Link<span class="token punctuation">,</span> <span class="token punctuation">{</span> to<span class="token punctuation">:</span> <span class="token string">'outlet-name'</span><span class="token punctuation">,</span> params<span class="token punctuation">:</span> <span class="token punctuation">{</span> paramName<span class="token punctuation">:</span> <span class="token string">'value'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Add the <code>Link</code> import in <code>App.ts</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/routing/Link'</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Replace the render function in <code>App.ts</code>.</div>
<pre class="language-javascript"><code class="language-javascript">	<span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
			<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>root<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">[</span>
				<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>container<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">[</span>
					<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>title<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Biz-E-Bodies'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>links<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
						<span class="token function">w</span><span class="token punctuation">(</span>Link<span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>link<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Home'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
						<span class="token function">w</span><span class="token punctuation">(</span>Link<span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'directory'</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'directory'</span><span class="token punctuation">,</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>link<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Worker Directory'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
						<span class="token function">w</span><span class="token punctuation">(</span>Link<span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'newWorker'</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'new-worker'</span><span class="token punctuation">,</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>link<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'New Worker'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span>
					<span class="token punctuation">]</span><span class="token punctuation">)</span>
				<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>main<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">[</span>
				<span class="token function">w</span><span class="token punctuation">(</span>BannerOutlet<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token function">w</span><span class="token punctuation">(</span>WorkerFormOutlet<span class="token punctuation">,</span> <span class="token punctuation">{</span>
					formData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_newWorker<span class="token punctuation">,</span>
					onFormInput<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_onFormInput<span class="token punctuation">,</span>
					onFormSave<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_addWorker
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token function">w</span><span class="token punctuation">(</span>WorkerContainerOutlet<span class="token punctuation">,</span> <span class="token punctuation">{</span>
					workerData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_workerData
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre>
<p>Now, the links in the side menu can be used to navigate around the application!</p>
</section><section class="tutorial hidden hiding">
<h2 id="Dynamic-Outlet"><a href="#Dynamic-Outlet" class="headerlink" title="Dynamic Outlet"></a>Dynamic <code>Outlet</code></h2><div class="task">Add filters to the <code>WorkerContainer.ts</code> widget and create an outlet.</div>
<p>Finally, we are going to enhance the <code>WidgetContainer.ts</code> with a filter on the workersâ€™ last name. To do this we need to use the <code>filter</code> outlet configured in the first section. The key difference for the <code>filter</code> outlet is that the path is using a placeholder that indicates a path parameter, <code>{filter}</code>.</p>
<p>This means a route with any value will match the <code>filter</code> as long as the previous path segments match, so for the <code>filter</code> outlet a route of <code>directory/any-value-here</code> would be considered a match.</p>
<div class="instruction">Add the new property to the <code>WidgetContainerProperties</code> interface in <code>WorkerContainer.ts</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">WorkerContainerProperties</span> <span class="token punctuation">{</span>
	workerData<span class="token punctuation">:</span> WorkerProperties<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	filter<span class="token operator">?</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<div class="instruction">Include the <code>Link</code> import</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/routing/Link'</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Add a private function to generate the filter links</div>
<pre class="language-javascript"><code class="language-javascript">	<span class="token keyword">private</span> <span class="token function">_createFilterLinks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> alphabet <span class="token operator">=</span> <span class="token string">'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> links <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> alphabet<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> char <span class="token operator">=</span> alphabet<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
			links<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
				<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>links<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
					<span class="token function">w</span><span class="token punctuation">(</span>Link<span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> char<span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'filter'</span><span class="token punctuation">,</span> params<span class="token punctuation">:</span> <span class="token punctuation">{</span> filter<span class="token punctuation">:</span> char <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> char <span class="token punctuation">]</span><span class="token punctuation">)</span>
				<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> links<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre>
<div class="instruction">Re-work the render function to filter using the new property</div>
<pre class="language-javascript"><code class="language-javascript">	<span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>
			workerData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			filter
		<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">;</span>

		<span class="token keyword">const</span> workers <span class="token operator">=</span> workerData<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>worker<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>filter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> worker<span class="token punctuation">.</span>lastName <span class="token operator">&amp;&amp;</span> worker<span class="token punctuation">.</span>lastName<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> filter<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>worker<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">w</span><span class="token punctuation">(</span>Worker<span class="token punctuation">,</span> <span class="token punctuation">{</span>
			key<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`worker-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span>
			<span class="token operator">...</span>worker
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
			<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>title<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Worker Directory'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>filters<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_createFilterLinks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>container<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> workers<span class="token punctuation">)</span>
		<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre>
<p>We have added a new property named <code>filter</code> to <code>WorkerContainerProperties</code> in <code>WorkerContainer.ts</code>, which will be used to filter the workers based on their last name. When used by a normal widget this would be determined by its parent and passed in like any normal property. However for this application we need the route param value to be passed as the filter property. To achieve this, we can add a mapping function that receives <code>MapParamOptions</code> (<code>param</code>, <code>location</code>, <code>router</code>, <code>matchType</code>) and returns an object injected into the wrapped widget properties!</p>
<div class="instruction">Add the following code to <code>FilteredWorkerContainerOutlet.ts</code></div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Outlet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/routing/Outlet'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> WorkerContainer <span class="token keyword">from</span> <span class="token string">'./../widgets/WorkerContainer'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> FilteredWorkerContainerOutlet <span class="token operator">=</span> <span class="token function">Outlet</span><span class="token punctuation">(</span><span class="token punctuation">{</span> index<span class="token punctuation">:</span> WorkerContainer <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'filter'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span> filter<span class="token punctuation">:</span> options<span class="token punctuation">.</span>params<span class="token punctuation">.</span>filter <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FilteredWorkerContainerOutlet<span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Add a <code>FilteredWorkerContainerOutlet.ts</code> import in <code>App.ts</code></div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> FilteredWorkerContainerOutlet <span class="token keyword">from</span> <span class="token string">'./../outlets/FilteredWorkerContainerOutlet'</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Include the <code>outlet</code> in the render function</div>
<pre class="language-javascript"><code class="language-javascript">				<span class="token function">w</span><span class="token punctuation">(</span>BannerOutlet<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token function">w</span><span class="token punctuation">(</span>WorkerFormOutlet<span class="token punctuation">,</span> <span class="token punctuation">{</span>
					formData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_newWorker<span class="token punctuation">,</span>
					onFormInput<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_onFormInput<span class="token punctuation">,</span>
					onFormSave<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_addWorker
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token function">w</span><span class="token punctuation">(</span>FilteredWorkerContainerOutlet<span class="token punctuation">,</span> <span class="token punctuation">{</span>
					workerData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_workerData
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token function">w</span><span class="token punctuation">(</span>WorkerContainerOutlet<span class="token punctuation">,</span> <span class="token punctuation">{</span>
					workerData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_workerData
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
</section><section class="tutorial hidden hiding">
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Dojo 2 routing is a declarative, non-intrusive, mechanism to add complicated route logic to a web application. Importantly, by using a high order component pattern, the widgets for the routes should not need to be updated and can remain solely responsible for their existing view logic.</p>
<p>If you would like, you can download the completed <a href="../assets/1030_routing-finished.zip">demo application</a> from this tutorial.</p>
</section>

		<div class="section-one hidden"><a class="button is-primary begin-button">Begin Tutorial</a></div>
	</div>
</div>
				</div>
				<footer class="footer">
  <div class="container">
    <div class="info">
      <span class="is-size-7">&copy; JS Foundation, All Rights Reserved.</span>
    </div>
  </div>
</footer>

			</div>
			
				<div class="paginator">
	<div class="container paginator-controls">
		<nav id="paginator" class="pagination is-centered" role="navigation" aria-label="pagination">
				<a class="pagination-previous">Previous</a>
				<a class="pagination-next">Next page</a>
				<ul class="pagination-list">

				</ul>
		</nav>
	</div>
</div>


<script src="/js/tutorial-support.js"></script>
<script>
	tutorial.populatePaginator(document.getElementById('paginator'), 'Routing');
</script>

			
		</div>
		
<!-- build:js /js/combined.js -->
<script src='/js/site.js'></script>
<!-- endbuild -->
	</body>
</html>
