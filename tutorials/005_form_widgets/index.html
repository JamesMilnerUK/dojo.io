<h1 id="Forms-n-stuff"><a href="#Forms-n-stuff" class="headerlink" title="Forms n stuff!"></a>Forms n stuff!</h1><hr><h2 id="Changes-to-004-code"><a href="#Changes-to-004-code" class="headerlink" title="Changes to 004 code:"></a>Changes to 004 code:</h2><ul><li>Moved worker data to App, which is passed to WorkerContainer as a property</li><li>Added a key to each worker (recommended for multiple widgets with the same constructor or VNodes with the same tag)</li><li>Switched worker.jpg to worker.svg to have a sharp image</li><li>In Worker, nested front and back inside a wrapping div to allow the flip animation. Now <code>this.isFlipped</code> controls which class is added to the root div.</li><li>Updated styles, all of which are available without 005-specific code in <a href="https://github.com/smhigley/dojo.io/tree/flip-animation" target="_blank" rel="external">this branch</a>.<ul><li>Switched WorkerContainer and Worker to use flexbox</li><li>Currently they wrap and stay aligned center, but if left justification is preferred, that can be changed</li><li>Some minor text sizing, alignment and spacing changes to make the back layout more readable</li><li>Added the card flip css animation, controlled by toggling <code>styles.reverse</code> on Worker.</li></ul></li></ul><h2 id="005-code"><a href="#005-code" class="headerlink" title="005 code"></a>005 code</h2><ul><li>App is used as the single source of truth for the application, so it has both the worker data and form state</li><li>Form values are handled in <code>state</code>, so the StatefulMixin was added to App</li><li>It passes field values and validity into WorkerForm as properties. This could be modified to pass all data for form fields (including which form widget constructor) into WorkerForm, but I thought the current approach with specific fields would be simplest to understand and explain.</li><li>App passes handlers for onChange (update form values), onBlur (validate), and onSubmit (add worker) to WorkerForm<ul><li>Important to note: event handlers set on a VNode can’t be reassigned (it’s a Maquette restriction). So <code>WorkerForm.properties.onSubmit</code> needs to be called in a private <code>WorkerForm._onSubmit</code> function, which is then passed to <code>v(&#39;form&#39;)</code>. TextInput widgets already handle this internally, so they can have anonymous functions passed directly to their <code>onChange</code> and <code>onBlur</code> properties.</li></ul></li><li>First and Last name are grouped in a <code>fieldset</code> with individual hidden labels for better accessibility</li><li>If you want to talk about styling existing widgets from <code>@dojo/widgets</code>, it would be easy to add something like <code>.inputWrapper</code> to <code>workerForm.css</code>, and add <code>overrideClasses: styles</code> to the TextInput widgets.</li></ul>