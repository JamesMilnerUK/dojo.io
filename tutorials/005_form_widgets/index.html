<!DOCTYPE html><html><head><meta charset="utf-8"><title>Form widgets | Dojo</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="Working with formsOverviewThis tutorial will extend on Responding to events, where we allowed the user to interact with the application by listening for click events. In this tutorial, we will add a"><meta property="og:type" content="website"><meta property="og:title" content="Form widgets"><meta property="og:url" content="https://dojo.github.io/tutorials/005_form_widgets/index.html"><meta property="og:site_name" content="Dojo"><meta property="og:description" content="Working with formsOverviewThis tutorial will extend on Responding to events, where we allowed the user to interact with the application by listening for click events. In this tutorial, we will add a"><meta property="og:updated_time" content="2017-10-03T15:30:05.916Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Form widgets"><meta name="twitter:description" content="Working with formsOverviewThis tutorial will extend on Responding to events, where we allowed the user to interact with the application by listening for click events. In this tutorial, we will add a"><meta name="twitter:creator" content="@https://twitter.com/dojo"><link rel="alternate" href="/atom.xml" title="Dojo" type="application/atom+xml"><link rel="icon" href="/images/favicons/favicon.ico"><link rel="stylesheet" href="/css/main.css"><script type="text/javascript">!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-3242977-15","auto"),ga("send","pageview")</script><link rel="stylesheet" href="/css/prism.css" type="text/css"></head><body class="body-tutorial"><header class="container site-header"><div class="content-container"><div class="row"><nav class="site-nav"><a href="/" class="header-logo"><img src="/images/dojo2-logo-white.svg" alt="Dojo"></a><a class="main-nav-link" href="/tutorials">Tutorials</a> <a class="main-nav-link" href="/api">API</a> <a class="main-nav-link" href="/blog/2017/03/27/Dojo-2-is-coming">Blog</a> <a class="main-nav-link main-nav-icon-link" href="https://github.com/dojo/meta"><img src="/images/logos/github-white.svg" alt="Dojo on Github" class="nav-icon github"></a></nav></div></div></header><div class="page-content"><section class="content-container" id="main"><div class="tutorial-content"><div class="scrollable"><section class="tutorial hidden hiding"><h1 id="Working-with-forms"><a href="#Working-with-forms" class="headerlink" title="Working with forms"></a>Working with forms</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>This tutorial will extend on <a href="../004_user_interactions/">Responding to events</a>, where we allowed the user to interact with the application by listening for click events. In this tutorial, we will add a form to the Biz-E-Worker page so that a user can add new workers to the application. This will be done by using some of Dojo 2’s form widgets to allow the feature to be developed more rapidly.</p><h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><p>You can <a href="../assets/005_form_widgets-initial.zip">download</a> the demo project and run <code>npm install</code> to get started.</p><p>The <code>@dojo/cli</code> command line tool should be installed globally. Refer to the <a href="../000_local_installation/">Dojo 2 local installation</a> article for more information.</p><p>You also need to be familiar with TypeScript as Dojo 2 uses it extensively. For more information, refer to the <a href="../comingsoon.html">TypeScript and Dojo 2</a> article.</p></section><section class="tutorial hidden hiding"><h2 id="Forms"><a href="#Forms" class="headerlink" title="Forms"></a>Forms</h2><div class="task">Create a form.</div><p>The first step to allowing the user to create new workers is to create a form. This form will contain the input elements that will accept the new worker’s initial settings.</p><div class="instruction">Add the following to <code>WorkerForm.ts</code>.</div><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WidgetBase <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/WidgetBase'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> TypedTargetEvent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/interfaces'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> v<span class="token punctuation">,</span> w <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/d'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeableMixin<span class="token punctuation">,</span> theme <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widget-core/mixins/Themeable'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> css <span class="token keyword">from</span> <span class="token string">'../styles/workerForm.css'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">WorkerFormProperties</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> WorkerFormBase <span class="token operator">=</span> <span class="token function">ThemeableMixin</span><span class="token punctuation">(</span>WidgetBase<span class="token punctuation">)</span><span class="token punctuation">;</span>

@<span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">WorkerForm</span> <span class="token keyword">extends</span> <span class="token class-name">WorkerFormBase</span><span class="token operator">&lt;</span>WorkerFormProperties<span class="token operator">></span> <span class="token punctuation">{</span>

	<span class="token keyword">private</span> <span class="token function">_onSubmit</span><span class="token punctuation">(</span>event<span class="token punctuation">:</span> Event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>workerForm<span class="token punctuation">)</span><span class="token punctuation">,</span>
			onsubmit<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_onSubmit
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
		<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><article class="aside"><strong>Reminder</strong><p>If you cannot see the application, remember to run <code>dojo build -w</code> to build the application and start the development server.</p></article><p>This widget will render an empty form with a <code>submit</code> handler that prevents the form from being submitted to the server. Before we continue to expand on this starting point though, let’s integrate the form into the application so we can observe the form as we add more features.</p><div class="instruction">Add the following widget CSS rules to <code>workerForm.css</code>.</div><pre class="language-css"><code class="language-css"><span class="token selector">.workerForm</span> <span class="token punctuation">{</span>
	<span class="token property">margin-bottom</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
	<span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.workerForm fieldset,
.workerForm label</span> <span class="token punctuation">{</span>
	<span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
	<span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.workerForm label</span> <span class="token punctuation">{</span>
	<span class="token property">margin-right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.nameField</span> <span class="token punctuation">{</span>
	<span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
	<span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
	<span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.nameLabel</span> <span class="token punctuation">{</span>
	<span class="token property">font</span><span class="token punctuation">:</span> 14px/1 sans-serif<span class="token punctuation">;</span>
	<span class="token property">margin</span><span class="token punctuation">:</span> 5px 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.workerButton</span> <span class="token punctuation">{</span>
	<span class="token property">padding</span><span class="token punctuation">:</span> 5px 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="instruction">Now, add the <code>WorkerForm</code> to the <code>App</code> class.</div><p>Import the <code>WorkerForm</code> class and the <code>WorkerFormData</code> interface and update the <code>render</code> method to draw the <code>WorkerForm</code>. It should be included after the <code>Banner</code> and before the <code>WorkerContainer</code> so the <code>render</code> method should look like this:</p><pre class="language-javascript"><code class="language-javascript">	<span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
			<span class="token function">w</span><span class="token punctuation">(</span>Banner<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function">w</span><span class="token punctuation">(</span>WorkerForm<span class="token punctuation">,</span> <span class="token punctuation">{</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function">w</span><span class="token punctuation">(</span>WorkerContainer<span class="token punctuation">,</span> <span class="token punctuation">{</span>
				workerData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_workerData
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre><p>Now, open the application in a browser and inspect it via the browser’s developer tools. Notice that the empty form element is being rendered onto the page as expected.</p><p>Next, we’ll add the visual elements of the form.</p></section><section class="tutorial hidden hiding"><h2 id="Form-widgets"><a href="#Form-widgets" class="headerlink" title="Form widgets"></a>Form widgets</h2><div class="task">Populate the form.</div><p>Our form will contain fields allowing the user to enter the worker’s first name, last name and e-mail address. It will also contain a save button that will use the form’s data to create a new worker. We could create these fields and buttons using the <code>v</code> function to create simple virtual DOM elements. If we did this, however, we would have to handle details such as theming, internationalization (<a href="https://en.wikipedia.org/wiki/Internationalization_and_localization" target="_blank" rel="external">i18n</a>) and accessibility (<a href="https://en.wikipedia.org/wiki/Accessibility" target="_blank" rel="external">a11y</a>) ourselves. Instead, we are going to leverage some of Dojo 2’s built-in widgets that have been designed with these considerations in mind.</p><div class="instruction">Add the following imports to <code>WorkerForm.ts</code>.</div><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> Button <span class="token keyword">from</span> <span class="token string">'@dojo/widgets/button/Button'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TextInput <span class="token keyword">from</span> <span class="token string">'@dojo/widgets/textinput/TextInput'</span><span class="token punctuation">;</span>
</code></pre><article class="aside"><strong>Note</strong><p>If you have been working with the same project throughout this series, you might get some errors when you try to import the widgets. If you do, add a new dependency to the <code>project.json</code> file: "@dojo/widgets":"2.0.0-alpha.23" and rerun <code>npm install</code> to install Dojo 2's standard widget library.</p></article><p>We are importing the <code>Button</code> class that will be used to provide the form’s submit button and the <code>TextInput</code> class that will provide the data entry fields for the worker data.</p><div class="instruction">Use those classes and a few virtual DOM nodes to add the visual elements of the form.</div><pre class="language-ts"><code class="language-ts">    <span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>workerForm<span class="token punctuation">)</span><span class="token punctuation">,</span>
            onsubmit<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_onSubmit
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'fieldset'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>nameField<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
                <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'legend'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>nameLabel<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Name'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">w</span><span class="token punctuation">(</span>TextInput<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                    key<span class="token punctuation">:</span> <span class="token string">'firstNameInput'</span><span class="token punctuation">,</span>
                    label<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        content<span class="token punctuation">:</span> <span class="token string">'First Name'</span><span class="token punctuation">,</span>
                        hidden<span class="token punctuation">:</span> <span class="token keyword">true</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    placeholder<span class="token punctuation">:</span> <span class="token string">'Given name'</span><span class="token punctuation">,</span>
                    required<span class="token punctuation">:</span> <span class="token keyword">true</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">w</span><span class="token punctuation">(</span>TextInput<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                    key<span class="token punctuation">:</span> <span class="token string">'lastNameInput'</span><span class="token punctuation">,</span>
                    label<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        content<span class="token punctuation">:</span> <span class="token string">'Last Name'</span><span class="token punctuation">,</span>
                        hidden<span class="token punctuation">:</span> <span class="token keyword">true</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    placeholder<span class="token punctuation">:</span> <span class="token string">'Surname name'</span><span class="token punctuation">,</span>
                    required<span class="token punctuation">:</span> <span class="token keyword">true</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">w</span><span class="token punctuation">(</span>TextInput<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                label<span class="token punctuation">:</span> <span class="token string">'Email address'</span><span class="token punctuation">,</span>
                type<span class="token punctuation">:</span> <span class="token string">'email'</span><span class="token punctuation">,</span>
                required<span class="token punctuation">:</span> <span class="token keyword">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">w</span><span class="token punctuation">(</span>Button<span class="token punctuation">,</span> <span class="token punctuation">{</span> content<span class="token punctuation">:</span> <span class="token string">'Save'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><p>At this point, the user interface for the form is available, but it does not do anything since we have not specified any event handlers. In the <a href="../004_user_interactions/">last tutorial</a>, we learned how to add event handlers to custom widgets by assigning a method to an event. When using pre-built widgets, however, we pass the handlers as properties. For example, we are going to need a way to handle each text field’s <code>input</code> event. To do that, we provide the desired handler function as the <code>onInput</code> property that is passed to the widget.</p><div class="instruction">Update the <code>render</code> method once again.</div><pre class="language-javascript"><code class="language-javascript">	<span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>
			formData<span class="token punctuation">:</span> <span class="token punctuation">{</span> firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> email <span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>workerForm<span class="token punctuation">)</span><span class="token punctuation">,</span>
			onsubmit<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_onSubmit
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
			<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'fieldset'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>nameField<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
				<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'legend'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">classes</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>nameLabel<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Name'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token function">w</span><span class="token punctuation">(</span>TextInput<span class="token punctuation">,</span> <span class="token punctuation">{</span>
					key<span class="token punctuation">:</span> <span class="token string">'firstNameInput'</span><span class="token punctuation">,</span>
					label<span class="token punctuation">:</span> <span class="token punctuation">{</span>
						content<span class="token punctuation">:</span> <span class="token string">'First Name'</span><span class="token punctuation">,</span>
						hidden<span class="token punctuation">:</span> <span class="token boolean">true</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
					placeholder<span class="token punctuation">:</span> <span class="token string">'First name'</span><span class="token punctuation">,</span>
					value<span class="token punctuation">:</span> firstName<span class="token punctuation">,</span>
					required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
					onInput<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onFirstNameInput
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token function">w</span><span class="token punctuation">(</span>TextInput<span class="token punctuation">,</span> <span class="token punctuation">{</span>
					key<span class="token punctuation">:</span> <span class="token string">'lastNameInput'</span><span class="token punctuation">,</span>
					label<span class="token punctuation">:</span> <span class="token punctuation">{</span>
						content<span class="token punctuation">:</span> <span class="token string">'Last Name'</span><span class="token punctuation">,</span>
						hidden<span class="token punctuation">:</span> <span class="token boolean">true</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
					placeholder<span class="token punctuation">:</span> <span class="token string">'Last name'</span><span class="token punctuation">,</span>
					value<span class="token punctuation">:</span> lastName<span class="token punctuation">,</span>
					required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
					onInput<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onLastNameInput
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function">w</span><span class="token punctuation">(</span>TextInput<span class="token punctuation">,</span> <span class="token punctuation">{</span>
				label<span class="token punctuation">:</span> <span class="token string">'Email address'</span><span class="token punctuation">,</span>
				type<span class="token punctuation">:</span> <span class="token string">'email'</span><span class="token punctuation">,</span>
				value<span class="token punctuation">:</span> email<span class="token punctuation">,</span>
				required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
				onInput<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onEmailInput
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function">w</span><span class="token punctuation">(</span>Button<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Save'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre><p>This form of the <code>render</code> method now does everything that we need: it creates the user interface and registers event handlers that will update the application as the user enters information. However, we need to add a few more methods to the <code>WorkerForm</code> to define the event handlers.</p><div class="instruction">Add these methods:</div><pre class="language-javascript"><code class="language-javascript">	<span class="token keyword">protected</span> <span class="token function">onFirstNameInput</span><span class="token punctuation">(</span><span class="token punctuation">{</span> target<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> firstName <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">:</span> TypedTargetEvent<span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">onFormInput</span><span class="token punctuation">(</span><span class="token punctuation">{</span> firstName <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">protected</span> <span class="token function">onLastNameInput</span><span class="token punctuation">(</span><span class="token punctuation">{</span> target<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> lastName <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">:</span> TypedTargetEvent<span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">onFormInput</span><span class="token punctuation">(</span><span class="token punctuation">{</span> lastName <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">protected</span> <span class="token function">onEmailInput</span><span class="token punctuation">(</span><span class="token punctuation">{</span> target<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> email <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">:</span> TypedTargetEvent<span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">onFormInput</span><span class="token punctuation">(</span><span class="token punctuation">{</span> email <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre><p>The <code>render</code> method starts by decomposing the properties into local constants. We still need to define those properties.</p><div class="instruction">Update the <code>WorkerFormProperties</code> interface to include them.</div><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">WorkerFormData</span> <span class="token punctuation">{</span>
	firstName<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
	lastName<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
	email<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">WorkerFormProperties</span> <span class="token punctuation">{</span>
	formData<span class="token punctuation">:</span> Partial<span class="token operator">&lt;</span>WorkerFormData<span class="token operator">></span><span class="token punctuation">;</span>
	onFormInput<span class="token punctuation">:</span> <span class="token punctuation">(</span>data<span class="token punctuation">:</span> Partial<span class="token operator">&lt;</span>WorkerFormData<span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
	onFormSave<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Most of these properties should be familiar by now, but notice the type signature for the <code>formData</code> property and the argument of the <code>onFormInput</code> property. They’re both objects of type <code>Partial&lt;WorkerFormData&gt;</code>. The <code>Partial</code> type will convert all of the properties of the provided type (<code>WorkerFormData</code> in this case) to be optional. This will inform the consumer that it is not guaranteed to receive all of the <code>WorkerFormData</code> properties every time - it should be prepared to receive only part of the data and process only those values that it receives.</p><p>There are two types of properties that we are using in this form. The <code>firstName</code>, <code>lastName</code> and <code>email</code> properties are grouped together in the <code>WorkerFormData</code> interface and are going to set the values that are displayed in the form fields. The <code>onFormInput</code> and <code>onFormSave</code> properties expose the events that the <code>WorkerForm</code> widget can emit. To see how these different property types are used, let’s examine the properties that are being passed into the first <code>TextInput</code> widget:</p><pre class="language-javascript"><code class="language-javascript">				<span class="token function">w</span><span class="token punctuation">(</span>TextInput<span class="token punctuation">,</span> <span class="token punctuation">{</span>
					key<span class="token punctuation">:</span> <span class="token string">'firstNameInput'</span><span class="token punctuation">,</span>
					label<span class="token punctuation">:</span> <span class="token punctuation">{</span>
						content<span class="token punctuation">:</span> <span class="token string">'First Name'</span><span class="token punctuation">,</span>
						hidden<span class="token punctuation">:</span> <span class="token boolean">true</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
					placeholder<span class="token punctuation">:</span> <span class="token string">'First name'</span><span class="token punctuation">,</span>
					value<span class="token punctuation">:</span> firstName<span class="token punctuation">,</span>
					required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
					onInput<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onFirstNameInput
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><p>The first thing that we see is a <code>key</code> property. As mentioned before, a key is necessary whenever more than one of the same type of widget or virtual DOM element will be rendered by a widget. The <code>label</code>, <code>placeholder</code>, and <code>required</code> fields map to their expected properties.</p><p>The <code>value</code> property renders the value of the field that is passed into the widget via its properties. Notice that there is no code that manipulates this value within the widget. As parts of a <a href="https://en.wikipedia.org/wiki/Reactive_programming" target="_blank" rel="external">reactive framework</a>, Dojo 2 widgets do not normally update their own state. Rather, they inform their parent that a change has occurred via events or some other mechanism. The parent will then pass updated properties back into the widget after all of the changes have been processed. This allows Dojo 2 applications to centralize data and keep the entire application synchronized.</p><p>The final property assigns the <code>onFirstNameInput</code> method to the <code>onInput</code> property. The <code>onFirstNameInput</code> method, in turn, calls the <code>onFormInput</code> property, informing the <code>WorkerForm</code>‘s parent that a change has occurred. This is another common pattern within Dojo 2 applications - the <code>WorkerForm</code> does not expose any of the components that it is using to build the form. Rather, the <code>WorkerForm</code> manages its children internally and, if necessary, calls its event properties to inform its parent of any changes. This decouples the consumers of the <code>WorkerForm</code> widget and frees them from having to understand the internal structure of the widget. Additionally, it allows the <code>WorkerForm</code> to change its implementation without affecting its parent as long as it continues to fulfill the <code>WorkerFormProperties</code> interface.</p><p>The last change that needs to be made in the <code>WorkerForm</code> is to update the <code>_onSubmit</code> method to delegate to the <code>onFormSave</code> property when it is called.</p><div class="instruction">Replace the <code>_onSubmit</code> method with.</div><pre class="language-javascript"><code class="language-javascript">	<span class="token keyword">private</span> <span class="token function">_onSubmit</span><span class="token punctuation">(</span>event<span class="token punctuation">:</span> Event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">onFormSave</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre><p>The form is now ready to be integrated into the application. We will do that in the next step.</p></section><section class="tutorial hidden hiding"><h2 id="Using-forms"><a href="#Using-forms" class="headerlink" title="Using forms"></a>Using forms</h2><div class="task">Integrate the form into the application.</div><p>Now that the <code>WorkerForm</code> widget is complete, we will update the <code>App</code> class to use it. First, we need to address how to store the user-completed form data. Recall that the <code>WorkerForm</code> will accept an <code>onFormInput</code> property that will allow the <code>App</code> class to be informed when a field value changes. However, the <code>App</code> class does not currently have a place to store those changes. We will add a private property to the <code>App</code> to store this state, and a method to update the state and re-render the parts of the application that have changed. As the application grows and needs to store more data, using private properties on a widget class can become difficult to maintain. Dojo 2 uses containers and injectors to help manage the complexities of dealing with state in a large application. For more information, refer to the <a href="../comingsoon.html">Containers and Injecting State</a> article.</p><div class="instruction">Add <code>_newWorker</code> as a private property.</div><pre class="language-javascript"><code class="language-javascript">	<span class="token keyword">private</span> _newWorker<span class="token punctuation">:</span> Partial<span class="token operator">&lt;</span>WorkerFormData<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>Notice that <code>_newWorker</code> is a <code>Partial&lt;WorkerFormData&gt;</code>, since it may include only some, or none, of the <code>WorkerFormData</code> interface properties.</p><div class="instruction">Update the <code>render</code> method to populate the <code>WorkerForm</code>'s properties.</div><pre class="language-javascript"><code class="language-javascript">	<span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
			<span class="token function">w</span><span class="token punctuation">(</span>Banner<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function">w</span><span class="token punctuation">(</span>WorkerForm<span class="token punctuation">,</span> <span class="token punctuation">{</span>
				formData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_newWorker<span class="token punctuation">,</span>
				onFormInput<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_onFormInput<span class="token punctuation">,</span>
				onFormSave<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_addWorker
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function">w</span><span class="token punctuation">(</span>WorkerContainer<span class="token punctuation">,</span> <span class="token punctuation">{</span>
				workerData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_workerData
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre><p>The <code>onFormInput</code> handler is calling the <code>App</code>‘s <code>_onFormInput</code> method.</p><div class="instruction">Add the <code>_onFormInput</code> method.</div><pre class="language-javascript"><code class="language-javascript">	<span class="token keyword">private</span> <span class="token function">_onFormInput</span><span class="token punctuation">(</span>data<span class="token punctuation">:</span> Partial<span class="token operator">&lt;</span>WorkerFormData<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>_newWorker <span class="token operator">=</span> <span class="token punctuation">{</span>
			<span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>_newWorker<span class="token punctuation">,</span>
			<span class="token operator">...</span>data
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre><p>The <code>_onFormInput</code> method updates the <code>_newWorker</code> object with the latest form data and then invalidates the app so that the form field will be re-rendered with the new data.</p><p>The <code>onFormSave</code> handler calls the <code>_addWorker</code> method.</p><div class="instruction">Add the <code>_addWorker</code> method to the <code>App</code> class.</div><pre class="language-javascript"><code class="language-javascript">	<span class="token keyword">private</span> <span class="token function">_addWorker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>_workerData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_workerData<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_newWorker<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>_newWorker <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre><p>The <code>_addWorker</code> method sets <code>_workerData</code> to a new array that includes the <code>_newWorker</code> object (which is the current <code>WorkerFormData</code>), sets <code>_newWorker</code> to a new empty object, and then invalidates the <code>App</code> widget. The reason that <code>_workerData</code> is not updated in place is because Dojo 2 decides whether a new render is needed by comparing the previous value of a property to the current value. If we are modifying the existing value then any comparison performed would report that the previous and current values are identical.</p><p>With the <code>WidgetForm</code> in place and the <code>App</code> configured to handle it, let’s try it. For now let’s test the <a href="https://en.wikipedia.org/wiki/Happy_path" target="_blank" rel="external">happy path</a> by providing the expected values to the form. Provide values for the fields, for example: “Suzette McNamara (smcnamara359@email.com)” and click the <code>Save</code> button. As expected, the form is cleared and a new <code>Worker</code> widget is added to the page. Clicking on the new <code>Worker</code> widget shows the detailed information of the card where we find that the first name, last name, and email values have been properly rendered.</p></section><section class="tutorial hidden hiding"><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>In this tutorial, we learned how to create complex widgets by composing simpler widgets together. We also got a first-hand look at how Dojo 2’s reactive programming style allows an application’s state to be centralized, simplifying data validation and synchronization tasks. Finally, we saw a couple of the widgets that come in Dojo 2’s widgets package and learned how they address many common use cases while providing support for theming, internationalization, and accessibility.</p><p>If you would like, you can download the completed <a href="../assets/005_form_widgets-finished.zip">demo application</a> from this tutorial.</p><p>In <a href="../006_deploying_to_production/">Deploying to production</a>, we will wrap up this series by learning how to take a completed Dojo 2 application and prepare it for deployment to production.</p></section></div><div id="actionBar" class="action-bar"></div><style>body,html{height:100%}</style><script src="/js/tutorial-support.js"></script><script>tutorial.populateActionBar(document.getElementById("actionBar"))</script></div></section></div><div><footer class="page-footer"><div class="content-container"><div class="footer-logo"><img src="/images/logos/dojo-logo-black.svg"></div><div class="info">&copy; JS Foundation, All Rights Reserved.</div></div></footer><script src="/js/combined.js"></script></div></body></html>